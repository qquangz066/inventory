2019-12-06 16:43:25,587 INFO     [main.py:serve:356] Started server process [91285]
2019-12-06 16:43:25,588 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-06 16:43:25,588 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-06 16:43:25,588 INFO     [on.py:startup:34] Application startup complete.
2019-12-06 16:44:43,776 INFO     [main.py:shutdown:477] Shutting down
2019-12-06 16:44:43,878 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-06 16:44:43,878 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-06 16:44:43,878 INFO     [main.py:serve:369] Finished server process [91285]
2019-12-06 16:44:45,165 INFO     [main.py:serve:356] Started server process [91299]
2019-12-06 16:44:45,166 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-06 16:44:45,166 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-06 16:44:45,166 INFO     [on.py:startup:34] Application startup complete.
2019-12-06 16:45:46,522 INFO     [log.py:info:110] select version()
2019-12-06 16:45:46,522 INFO     [log.py:info:110] {}
2019-12-06 16:45:46,526 INFO     [log.py:info:110] select current_schema()
2019-12-06 16:45:46,526 INFO     [log.py:info:110] {}
2019-12-06 16:45:46,529 INFO     [log.py:info:110] SELECT CAST('test plain returns' AS VARCHAR(60)) AS anon_1
2019-12-06 16:45:46,529 INFO     [log.py:info:110] {}
2019-12-06 16:45:46,532 INFO     [log.py:info:110] SELECT CAST('test unicode returns' AS VARCHAR(60)) AS anon_1
2019-12-06 16:45:46,532 INFO     [log.py:info:110] {}
2019-12-06 16:45:46,533 INFO     [log.py:info:110] show standard_conforming_strings
2019-12-06 16:45:46,533 INFO     [log.py:info:110] {}
2019-12-06 16:45:46,537 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-06 16:45:46,538 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-06 16:45:46,538 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-06 16:45:46,892 INFO     [log.py:info:110] ROLLBACK
2019-12-06 17:13:20,723 INFO     [main.py:shutdown:477] Shutting down
2019-12-06 17:13:20,826 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-06 17:13:20,826 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-06 17:13:20,826 INFO     [main.py:serve:369] Finished server process [91299]
2019-12-07 13:35:20,233 INFO     [main.py:serve:356] Started server process [2303]
2019-12-07 13:35:20,234 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-07 13:35:20,235 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-07 13:35:20,235 INFO     [on.py:startup:34] Application startup complete.
2019-12-07 13:35:47,470 INFO     [log.py:info:110] select version()
2019-12-07 13:35:47,470 INFO     [log.py:info:110] {}
2019-12-07 13:35:47,473 INFO     [log.py:info:110] select current_schema()
2019-12-07 13:35:47,474 INFO     [log.py:info:110] {}
2019-12-07 13:35:47,478 INFO     [log.py:info:110] SELECT CAST('test plain returns' AS VARCHAR(60)) AS anon_1
2019-12-07 13:35:47,478 INFO     [log.py:info:110] {}
2019-12-07 13:35:47,480 INFO     [log.py:info:110] SELECT CAST('test unicode returns' AS VARCHAR(60)) AS anon_1
2019-12-07 13:35:47,480 INFO     [log.py:info:110] {}
2019-12-07 13:35:47,481 INFO     [log.py:info:110] show standard_conforming_strings
2019-12-07 13:35:47,481 INFO     [log.py:info:110] {}
2019-12-07 13:35:47,486 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 13:35:47,487 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 13:35:47,487 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 13:35:47,834 INFO     [log.py:info:110] ROLLBACK
2019-12-07 13:51:35,315 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 13:51:35,317 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 13:51:35,317 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 13:51:35,622 INFO     [log.py:info:110] ROLLBACK
2019-12-07 13:51:38,698 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 13:51:38,698 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".id = %(id_1)s 
 LIMIT %(param_1)s
2019-12-07 13:51:38,698 INFO     [log.py:info:110] {'id_1': 3, 'param_1': 1}
2019-12-07 13:51:38,703 INFO     [log.py:info:110] SELECT count(*) AS count_1 
FROM (SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user") AS anon_1
2019-12-07 13:51:38,703 INFO     [log.py:info:110] {}
2019-12-07 13:51:38,708 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
 LIMIT %(param_1)s OFFSET %(param_2)s
2019-12-07 13:51:38,708 INFO     [log.py:info:110] {'param_1': 100, 'param_2': 0}
2019-12-07 13:51:38,710 INFO     [log.py:info:110] ROLLBACK
2019-12-07 14:53:16,258 INFO     [main.py:shutdown:477] Shutting down
2019-12-07 14:53:16,366 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-07 14:53:16,366 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-07 14:53:16,366 INFO     [main.py:serve:369] Finished server process [2303]
2019-12-07 14:53:17,892 INFO     [main.py:serve:356] Started server process [4519]
2019-12-07 14:53:17,893 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-07 14:53:17,893 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-07 14:53:17,893 INFO     [on.py:startup:34] Application startup complete.
2019-12-07 15:26:33,639 INFO     [main.py:shutdown:477] Shutting down
2019-12-07 15:26:33,744 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-07 15:26:33,745 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-07 15:26:33,745 INFO     [main.py:serve:369] Finished server process [4519]
2019-12-07 15:26:35,390 INFO     [main.py:serve:356] Started server process [5010]
2019-12-07 15:26:35,392 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-07 15:26:35,392 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-07 15:26:35,392 INFO     [on.py:startup:34] Application startup complete.
2019-12-07 15:29:55,967 INFO     [main.py:shutdown:477] Shutting down
2019-12-07 15:29:56,069 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-07 15:29:56,070 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-07 15:29:56,070 INFO     [main.py:serve:369] Finished server process [5010]
2019-12-07 15:29:57,442 INFO     [main.py:serve:356] Started server process [5022]
2019-12-07 15:29:57,443 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-07 15:29:57,443 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-07 15:29:57,444 INFO     [on.py:startup:34] Application startup complete.
2019-12-07 15:44:37,436 INFO     [main.py:shutdown:477] Shutting down
2019-12-07 15:44:37,538 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-07 15:44:37,539 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-07 15:44:37,539 INFO     [main.py:serve:369] Finished server process [5022]
2019-12-07 15:44:38,718 INFO     [main.py:serve:356] Started server process [5103]
2019-12-07 15:44:38,719 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-07 15:44:38,719 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-07 15:44:38,719 INFO     [on.py:startup:34] Application startup complete.
2019-12-07 15:44:44,827 INFO     [log.py:info:110] select version()
2019-12-07 15:44:44,828 INFO     [log.py:info:110] {}
2019-12-07 15:44:44,833 INFO     [log.py:info:110] select current_schema()
2019-12-07 15:44:44,833 INFO     [log.py:info:110] {}
2019-12-07 15:44:44,837 INFO     [log.py:info:110] SELECT CAST('test plain returns' AS VARCHAR(60)) AS anon_1
2019-12-07 15:44:44,837 INFO     [log.py:info:110] {}
2019-12-07 15:44:44,839 INFO     [log.py:info:110] SELECT CAST('test unicode returns' AS VARCHAR(60)) AS anon_1
2019-12-07 15:44:44,839 INFO     [log.py:info:110] {}
2019-12-07 15:44:44,841 INFO     [log.py:info:110] show standard_conforming_strings
2019-12-07 15:44:44,841 INFO     [log.py:info:110] {}
2019-12-07 15:44:44,848 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:44:44,849 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:44:44,849 INFO     [log.py:info:110] {'email_1': 'admin', 'param_1': 1}
2019-12-07 15:44:44,852 INFO     [log.py:info:110] ROLLBACK
2019-12-07 15:45:25,872 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:45:25,873 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:45:25,874 INFO     [log.py:info:110] {'email_1': 'asdad', 'param_1': 1}
2019-12-07 15:45:25,877 INFO     [log.py:info:110] ROLLBACK
2019-12-07 15:51:14,590 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:51:14,592 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:51:14,592 INFO     [log.py:info:110] {'email_1': 'sfgd', 'param_1': 1}
2019-12-07 15:51:14,595 INFO     [log.py:info:110] ROLLBACK
2019-12-07 15:51:43,111 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:51:43,112 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:51:43,112 INFO     [log.py:info:110] {'email_1': 'fdgdfg', 'param_1': 1}
2019-12-07 15:51:43,114 INFO     [log.py:info:110] ROLLBACK
2019-12-07 15:54:30,359 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:54:30,360 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:54:30,360 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 15:54:30,710 INFO     [log.py:info:110] ROLLBACK
2019-12-07 15:55:13,843 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:55:13,844 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:55:13,845 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 15:55:14,162 INFO     [log.py:info:110] ROLLBACK
2019-12-07 15:56:06,184 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:56:06,185 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:56:06,185 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 15:56:06,502 INFO     [log.py:info:110] ROLLBACK
2019-12-07 15:57:48,221 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:57:48,222 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:57:48,222 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 15:57:48,543 INFO     [log.py:info:110] ROLLBACK
2019-12-07 15:58:21,056 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:58:21,057 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:58:21,057 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 15:58:21,367 INFO     [log.py:info:110] ROLLBACK
2019-12-07 15:59:14,432 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 15:59:14,433 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 15:59:14,433 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 15:59:14,736 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:01:07,316 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:01:07,317 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:01:07,317 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:01:07,620 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:03:12,397 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:03:12,398 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:03:12,398 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:03:12,706 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:03:30,520 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:03:30,520 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:03:30,521 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:03:30,815 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:06:13,399 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:06:13,401 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:06:13,401 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:06:13,704 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:19:33,299 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:19:33,301 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:19:33,301 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:19:33,606 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:22:03,510 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:22:03,511 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:22:03,512 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:22:03,810 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:33:08,096 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:33:08,098 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:33:08,098 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:33:08,403 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:33:27,999 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:33:27,999 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:33:27,999 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:33:28,298 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:33:43,473 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:33:43,474 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:33:43,474 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:33:43,777 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:33:59,300 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:33:59,302 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:33:59,302 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:33:59,601 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:38:04,636 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:38:04,637 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:38:04,637 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:38:04,946 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:39:14,901 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:39:14,902 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:39:14,902 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:39:15,222 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:46:50,311 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:46:50,312 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:46:50,312 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:46:50,616 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:47:06,440 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:47:06,442 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:47:06,442 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:47:06,749 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:47:30,134 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:47:30,134 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:47:30,134 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:47:30,443 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:47:57,842 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:47:57,843 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:47:57,843 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:47:58,161 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:48:15,267 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:48:15,268 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:48:15,268 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:48:15,573 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:48:51,121 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:48:51,122 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:48:51,123 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:48:51,444 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:49:42,244 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:49:42,245 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:49:42,245 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:49:42,562 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:50:20,576 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:50:20,576 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:50:20,576 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:50:20,905 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:50:50,295 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:50:50,296 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:50:50,296 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:50:50,604 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:54:24,014 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:54:24,015 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:54:24,015 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:54:24,322 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:54:52,270 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:54:52,270 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:54:52,270 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:54:52,580 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:55:12,655 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:55:12,655 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:55:12,655 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:55:12,964 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:55:17,812 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:55:17,812 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:55:17,812 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:55:18,122 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:55:33,658 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:55:33,659 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:55:33,659 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:55:33,971 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:55:53,348 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:55:53,349 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:55:53,349 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:55:53,658 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:57:13,230 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:57:13,231 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:57:13,231 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:57:13,536 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:57:29,442 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:57:29,443 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:57:29,443 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:57:29,749 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:57:41,471 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:57:41,472 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:57:41,472 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:57:41,782 INFO     [log.py:info:110] ROLLBACK
2019-12-07 16:58:09,338 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 16:58:09,339 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 16:58:09,339 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 16:58:09,648 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:03:34,788 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:03:34,788 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:03:34,789 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:03:35,094 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:03:45,635 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:03:45,636 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:03:45,636 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:03:45,945 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:03:59,177 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:03:59,179 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:03:59,179 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:03:59,484 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:04:14,742 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:04:14,743 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:04:14,743 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:04:15,064 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:06:13,434 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:06:13,435 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:06:13,435 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:06:13,754 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:07:26,523 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:07:26,524 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:07:26,524 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:07:26,833 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:07:35,362 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:07:35,363 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:07:35,363 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:07:35,672 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:17:53,179 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:17:53,182 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:17:53,182 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:17:53,506 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:18:17,929 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:18:17,930 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:18:17,930 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:18:18,244 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:18:36,125 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:18:36,125 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:18:36,125 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:18:36,441 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:21:07,101 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:21:07,102 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:21:07,102 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:21:07,408 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:21:08,539 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:21:08,540 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:21:08,540 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:21:08,853 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:21:12,275 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:21:12,276 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:21:12,276 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:21:12,586 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:21:29,850 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:21:29,851 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:21:29,851 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:21:30,166 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:21:39,730 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:21:39,730 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:21:39,730 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:21:40,045 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:22:22,826 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:22:22,827 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:22:22,827 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:22:23,139 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:22:36,880 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:22:36,881 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:22:36,881 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:22:37,197 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:23:08,517 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:23:08,518 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:23:08,518 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:23:08,834 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:23:19,844 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:23:19,844 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:23:19,844 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:23:20,166 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:24:14,912 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:24:14,912 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:24:14,913 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:24:15,223 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:24:35,722 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:24:35,722 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:24:35,722 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:24:36,035 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:24:49,585 INFO     [main.py:shutdown:477] Shutting down
2019-12-07 17:24:49,689 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-07 17:24:49,690 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-07 17:24:49,690 INFO     [main.py:serve:369] Finished server process [5103]
2019-12-07 17:26:32,447 INFO     [main.py:serve:356] Started server process [6706]
2019-12-07 17:26:32,448 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-07 17:26:32,448 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-07 17:26:32,449 INFO     [on.py:startup:34] Application startup complete.
2019-12-07 17:26:53,493 INFO     [log.py:info:110] select version()
2019-12-07 17:26:53,493 INFO     [log.py:info:110] {}
2019-12-07 17:26:53,496 INFO     [log.py:info:110] select current_schema()
2019-12-07 17:26:53,496 INFO     [log.py:info:110] {}
2019-12-07 17:26:53,498 INFO     [log.py:info:110] SELECT CAST('test plain returns' AS VARCHAR(60)) AS anon_1
2019-12-07 17:26:53,498 INFO     [log.py:info:110] {}
2019-12-07 17:26:53,499 INFO     [log.py:info:110] SELECT CAST('test unicode returns' AS VARCHAR(60)) AS anon_1
2019-12-07 17:26:53,500 INFO     [log.py:info:110] {}
2019-12-07 17:26:53,501 INFO     [log.py:info:110] show standard_conforming_strings
2019-12-07 17:26:53,501 INFO     [log.py:info:110] {}
2019-12-07 17:26:53,504 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:26:53,505 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:26:53,506 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:26:53,850 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:40:16,718 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:40:16,720 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:40:16,720 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:40:17,036 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:40:27,744 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:40:27,745 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".id = %(id_1)s 
 LIMIT %(param_1)s
2019-12-07 17:40:27,745 INFO     [log.py:info:110] {'id_1': 3, 'param_1': 1}
2019-12-07 17:40:27,754 INFO     [log.py:info:110] SELECT count(*) AS count_1 
FROM (SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user") AS anon_1
2019-12-07 17:40:27,754 INFO     [log.py:info:110] {}
2019-12-07 17:40:27,758 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
 LIMIT %(param_1)s OFFSET %(param_2)s
2019-12-07 17:40:27,758 INFO     [log.py:info:110] {'param_1': 100, 'param_2': 0}
2019-12-07 17:40:27,760 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:40:27,762 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".id = %(id_1)s 
 LIMIT %(param_1)s
2019-12-07 17:40:27,763 INFO     [log.py:info:110] {'id_1': 3, 'param_1': 1}
2019-12-07 17:40:27,764 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:40:27,770 INFO     [log.py:info:110] SELECT count(*) AS count_1 
FROM (SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user") AS anon_1
2019-12-07 17:40:27,770 INFO     [log.py:info:110] {}
2019-12-07 17:40:27,791 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
 LIMIT %(param_1)s OFFSET %(param_2)s
2019-12-07 17:40:27,791 INFO     [log.py:info:110] {'param_1': 100, 'param_2': 0}
2019-12-07 17:40:27,796 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:47:50,103 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:47:50,105 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:47:50,105 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:47:50,419 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:47:50,506 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:47:50,507 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".id = %(id_1)s 
 LIMIT %(param_1)s
2019-12-07 17:47:50,507 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:47:50,508 INFO     [log.py:info:110] {'id_1': 3, 'param_1': 1}
2019-12-07 17:47:50,508 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".id = %(id_1)s 
 LIMIT %(param_1)s
2019-12-07 17:47:50,508 INFO     [log.py:info:110] {'id_1': 3, 'param_1': 1}
2019-12-07 17:47:50,514 INFO     [log.py:info:110] SELECT count(*) AS count_1 
FROM (SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user") AS anon_1
2019-12-07 17:47:50,517 INFO     [log.py:info:110] SELECT count(*) AS count_1 
FROM (SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user") AS anon_1
2019-12-07 17:47:50,517 INFO     [log.py:info:110] {}
2019-12-07 17:47:50,517 INFO     [log.py:info:110] {}
2019-12-07 17:47:50,520 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
 LIMIT %(param_1)s OFFSET %(param_2)s
2019-12-07 17:47:50,521 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
 LIMIT %(param_1)s OFFSET %(param_2)s
2019-12-07 17:47:50,521 INFO     [log.py:info:110] {'param_1': 100, 'param_2': 0}
2019-12-07 17:47:50,521 INFO     [log.py:info:110] {'param_1': 100, 'param_2': 0}
2019-12-07 17:47:50,524 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:47:50,526 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:48:19,603 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:48:19,604 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:48:19,604 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:48:19,924 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:48:24,815 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:48:24,816 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".id = %(id_1)s 
 LIMIT %(param_1)s
2019-12-07 17:48:24,817 INFO     [log.py:info:110] {'id_1': 3, 'param_1': 1}
2019-12-07 17:48:24,817 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:48:24,818 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".id = %(id_1)s 
 LIMIT %(param_1)s
2019-12-07 17:48:24,818 INFO     [log.py:info:110] {'id_1': 3, 'param_1': 1}
2019-12-07 17:48:24,825 INFO     [log.py:info:110] SELECT count(*) AS count_1 
FROM (SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user") AS anon_1
2019-12-07 17:48:24,825 INFO     [log.py:info:110] {}
2019-12-07 17:48:24,829 INFO     [log.py:info:110] SELECT count(*) AS count_1 
FROM (SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user") AS anon_1
2019-12-07 17:48:24,831 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
 LIMIT %(param_1)s OFFSET %(param_2)s
2019-12-07 17:48:24,832 INFO     [log.py:info:110] {}
2019-12-07 17:48:24,832 INFO     [log.py:info:110] {'param_1': 100, 'param_2': 0}
2019-12-07 17:48:24,834 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
 LIMIT %(param_1)s OFFSET %(param_2)s
2019-12-07 17:48:24,835 INFO     [log.py:info:110] {'param_1': 100, 'param_2': 0}
2019-12-07 17:48:24,836 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:48:24,840 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:49:25,507 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:49:25,508 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-07 17:49:25,508 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-07 17:49:25,822 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:49:25,909 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:49:25,910 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".id = %(id_1)s 
 LIMIT %(param_1)s
2019-12-07 17:49:25,910 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-07 17:49:25,910 INFO     [log.py:info:110] {'id_1': 3, 'param_1': 1}
2019-12-07 17:49:25,911 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".id = %(id_1)s 
 LIMIT %(param_1)s
2019-12-07 17:49:25,911 INFO     [log.py:info:110] {'id_1': 3, 'param_1': 1}
2019-12-07 17:49:25,915 INFO     [log.py:info:110] SELECT count(*) AS count_1 
FROM (SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user") AS anon_1
2019-12-07 17:49:25,915 INFO     [log.py:info:110] {}
2019-12-07 17:49:25,918 INFO     [log.py:info:110] SELECT count(*) AS count_1 
FROM (SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user") AS anon_1
2019-12-07 17:49:25,918 INFO     [log.py:info:110] {}
2019-12-07 17:49:25,919 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
 LIMIT %(param_1)s OFFSET %(param_2)s
2019-12-07 17:49:25,919 INFO     [log.py:info:110] {'param_1': 100, 'param_2': 0}
2019-12-07 17:49:25,921 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
 LIMIT %(param_1)s OFFSET %(param_2)s
2019-12-07 17:49:25,922 INFO     [log.py:info:110] {'param_1': 100, 'param_2': 0}
2019-12-07 17:49:25,922 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:49:25,925 INFO     [log.py:info:110] ROLLBACK
2019-12-07 17:49:45,146 INFO     [main.py:shutdown:477] Shutting down
2019-12-07 17:49:45,246 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-07 17:49:45,247 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-07 17:49:45,247 INFO     [main.py:serve:369] Finished server process [6706]
2019-12-09 13:18:14,084 INFO     [main.py:serve:356] Started server process [3389]
2019-12-09 13:18:14,085 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 13:18:14,085 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 13:18:14,085 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 13:19:03,279 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 492, in checkout
    rec = pool._do_get()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 139, in _do_get
    self._dec_overflow()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 136, in _do_get
    return self._create_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 308, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 437, in __init__
    self.__connect(first_connect_check=True)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 13:27:01,210 INFO     [log.py:info:110] select version()
2019-12-09 13:27:01,211 INFO     [log.py:info:110] {}
2019-12-09 13:27:01,216 INFO     [log.py:info:110] select current_schema()
2019-12-09 13:27:01,216 INFO     [log.py:info:110] {}
2019-12-09 13:27:01,219 INFO     [log.py:info:110] SELECT CAST('test plain returns' AS VARCHAR(60)) AS anon_1
2019-12-09 13:27:01,219 INFO     [log.py:info:110] {}
2019-12-09 13:27:01,222 INFO     [log.py:info:110] SELECT CAST('test unicode returns' AS VARCHAR(60)) AS anon_1
2019-12-09 13:27:01,222 INFO     [log.py:info:110] {}
2019-12-09 13:27:01,223 INFO     [log.py:info:110] show standard_conforming_strings
2019-12-09 13:27:01,223 INFO     [log.py:info:110] {}
2019-12-09 13:27:01,226 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 13:27:01,227 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 13:27:01,227 INFO     [log.py:info:110] {'email_1': 'string', 'param_1': 1}
2019-12-09 13:27:01,235 INFO     [log.py:info:110] ROLLBACK
2019-12-09 13:27:19,720 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 13:27:19,721 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 13:27:19,721 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 13:27:20,084 INFO     [log.py:info:110] ROLLBACK
2019-12-09 13:39:32,501 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 13:39:32,606 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 13:39:32,606 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 13:39:32,606 INFO     [main.py:serve:369] Finished server process [3389]
2019-12-09 13:39:34,376 INFO     [main.py:serve:356] Started server process [3667]
2019-12-09 13:39:34,378 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 13:39:34,378 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 13:39:34,378 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 13:39:54,299 INFO     [log.py:info:110] select version()
2019-12-09 13:39:54,299 INFO     [log.py:info:110] {}
2019-12-09 13:39:54,302 INFO     [log.py:info:110] select current_schema()
2019-12-09 13:39:54,302 INFO     [log.py:info:110] {}
2019-12-09 13:39:54,304 INFO     [log.py:info:110] SELECT CAST('test plain returns' AS VARCHAR(60)) AS anon_1
2019-12-09 13:39:54,304 INFO     [log.py:info:110] {}
2019-12-09 13:39:54,305 INFO     [log.py:info:110] SELECT CAST('test unicode returns' AS VARCHAR(60)) AS anon_1
2019-12-09 13:39:54,306 INFO     [log.py:info:110] {}
2019-12-09 13:39:54,306 INFO     [log.py:info:110] show standard_conforming_strings
2019-12-09 13:39:54,307 INFO     [log.py:info:110] {}
2019-12-09 13:39:54,310 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 13:39:54,311 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 13:39:54,311 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 13:39:54,648 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:15:04,796 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:15:04,797 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:15:04,797 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:15:05,105 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:17:42,168 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:17:42,169 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:17:42,169 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:17:42,472 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:18:32,677 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:18:32,677 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:18:32,677 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:18:32,990 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:18:50,567 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:18:50,568 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:18:50,568 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:18:50,876 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:19:37,035 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:19:37,037 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:19:37,037 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:19:37,342 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:19:48,194 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:19:48,195 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:19:48,195 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:19:48,500 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:20:02,128 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:20:02,129 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:20:02,129 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:20:02,443 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:22:36,688 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:22:36,689 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:22:36,689 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:22:36,997 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:25:44,878 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:25:44,880 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:25:44,880 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:25:45,200 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:28:36,583 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:28:36,585 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:28:36,585 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:28:36,893 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:29:36,112 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:29:36,113 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:29:36,113 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:29:36,428 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:30:48,919 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:30:48,920 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:30:48,920 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:30:49,231 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:30:56,464 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:30:56,465 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:30:56,465 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:30:56,770 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:31:38,264 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:31:38,264 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:31:38,264 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:31:38,566 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:31:46,598 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:31:46,599 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:31:46,599 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:31:46,900 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:34:48,727 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:34:48,728 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:34:48,728 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:34:49,031 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:36:28,911 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:36:28,912 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:36:28,912 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:36:29,218 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:36:30,522 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:36:30,523 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:36:30,523 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:36:30,833 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:36:38,864 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:36:38,865 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:36:38,865 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:36:39,180 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:38:47,612 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:38:47,613 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:38:47,613 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:38:47,924 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:39:17,856 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:39:17,857 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:39:17,857 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:39:18,171 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:39:27,678 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:39:27,679 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:39:27,679 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:39:28,003 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:40:33,013 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:40:33,016 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:40:33,016 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:40:33,349 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:45:06,757 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:45:06,759 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:45:06,760 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:45:07,076 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:56:42,717 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:56:42,719 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:56:42,719 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:56:43,035 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:56:47,876 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:56:47,877 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:56:47,877 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:56:48,187 INFO     [log.py:info:110] ROLLBACK
2019-12-09 14:59:44,926 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 14:59:44,927 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 14:59:44,927 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 14:59:45,245 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:03:12,876 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:03:12,877 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:03:12,877 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:03:13,276 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:03:23,253 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:03:23,254 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:03:23,254 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:03:23,576 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:04:14,134 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:04:14,134 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:04:14,134 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:04:14,454 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:05:18,834 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:05:18,834 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:05:18,834 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:05:19,147 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:06:46,875 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:06:46,876 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:06:46,876 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:06:47,187 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:07:11,581 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:07:11,581 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:07:11,581 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:07:11,886 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:10:21,584 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:10:21,585 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:10:21,585 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:10:21,901 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:12:07,342 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:12:07,343 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:12:07,343 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:12:07,658 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:12:12,591 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:12:12,591 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:12:12,591 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:12:12,911 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:15:01,795 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:15:01,796 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:15:01,796 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:15:02,110 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:22:55,129 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:22:55,131 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:22:55,131 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:22:55,436 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:27:30,781 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:27:30,782 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:27:30,782 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:27:31,182 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:47:26,699 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:47:26,701 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:47:26,701 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:47:27,026 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:48:28,948 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:48:28,949 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:48:28,949 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:48:29,261 INFO     [log.py:info:110] ROLLBACK
2019-12-09 15:49:25,118 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 15:49:25,119 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 15:49:25,119 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 15:49:25,431 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:11:42,129 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:11:42,130 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:11:42,131 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:11:42,446 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:12:03,848 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:12:03,849 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:12:03,849 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:12:04,147 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:16:21,248 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:16:21,250 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:16:21,250 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:16:21,547 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:16:46,854 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:16:46,855 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:16:46,855 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:16:47,153 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:17:42,079 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:17:42,080 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:17:42,080 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:17:42,374 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:17:47,138 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:17:47,139 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:17:47,139 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:17:47,445 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:18:15,079 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:18:15,080 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:18:15,080 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:18:15,391 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:19:34,976 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 16:19:35,079 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 16:19:35,079 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 16:19:35,079 INFO     [main.py:serve:369] Finished server process [3667]
2019-12-09 16:19:36,503 INFO     [main.py:serve:356] Started server process [5965]
2019-12-09 16:19:36,504 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 16:19:36,504 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 16:19:36,504 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 16:19:42,261 INFO     [log.py:info:110] select version()
2019-12-09 16:19:42,261 INFO     [log.py:info:110] {}
2019-12-09 16:19:42,263 INFO     [log.py:info:110] select current_schema()
2019-12-09 16:19:42,264 INFO     [log.py:info:110] {}
2019-12-09 16:19:42,266 INFO     [log.py:info:110] SELECT CAST('test plain returns' AS VARCHAR(60)) AS anon_1
2019-12-09 16:19:42,266 INFO     [log.py:info:110] {}
2019-12-09 16:19:42,267 INFO     [log.py:info:110] SELECT CAST('test unicode returns' AS VARCHAR(60)) AS anon_1
2019-12-09 16:19:42,267 INFO     [log.py:info:110] {}
2019-12-09 16:19:42,268 INFO     [log.py:info:110] show standard_conforming_strings
2019-12-09 16:19:42,268 INFO     [log.py:info:110] {}
2019-12-09 16:19:42,272 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:19:42,273 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:19:42,273 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:19:42,609 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:20:13,194 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:20:13,195 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:20:13,195 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:20:13,499 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:21:37,089 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:21:37,090 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:21:37,090 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:21:37,552 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:21:41,131 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:21:41,132 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:21:41,132 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:21:41,438 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:22:46,862 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:22:46,862 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:22:46,862 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:22:47,166 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:23:30,746 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:23:30,747 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:23:30,747 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:23:31,052 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:25:17,699 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:25:17,700 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:25:17,700 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:25:18,006 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:25:34,653 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:25:34,654 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:25:34,654 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:25:34,959 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:25:49,704 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:25:49,705 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:25:49,705 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:25:50,007 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:26:33,489 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:26:33,490 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:26:33,490 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:26:33,794 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:28:10,680 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:28:10,681 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:28:10,681 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:28:10,984 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:29:54,269 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:29:54,270 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:29:54,270 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:29:54,584 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:31:10,654 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:31:10,654 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:31:10,655 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:31:10,967 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:32:02,354 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:32:02,355 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:32:02,355 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:32:02,670 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:33:02,802 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:33:02,802 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:33:02,802 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:33:03,108 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:33:23,302 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:33:23,303 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:33:23,303 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:33:23,606 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:33:57,061 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:33:57,061 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:33:57,062 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:33:57,357 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:35:07,796 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:35:07,797 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:35:07,797 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:35:08,094 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:37:04,368 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:37:04,369 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:37:04,369 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:37:04,663 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:39:08,702 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:39:08,703 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:39:08,703 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:39:09,002 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:39:46,335 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:39:46,335 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:39:46,335 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:39:46,631 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:39:51,276 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:39:51,277 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:39:51,277 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:39:51,576 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:39:59,660 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:39:59,661 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:39:59,661 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:39:59,977 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:40:24,071 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:40:24,072 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:40:24,072 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:40:24,374 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:41:57,281 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:41:57,282 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:41:57,282 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:41:57,581 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:42:05,804 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:42:05,804 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:42:05,805 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:42:06,107 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:42:17,821 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:42:17,821 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:42:17,822 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:42:18,124 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:44:16,158 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:44:16,159 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:44:16,159 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:44:16,453 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:44:26,269 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:44:26,269 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:44:26,269 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:44:26,577 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:44:32,511 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:44:32,511 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:44:32,512 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:44:32,822 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:44:47,354 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 16:44:47,458 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 16:44:47,459 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 16:44:47,459 INFO     [main.py:serve:369] Finished server process [5965]
2019-12-09 16:47:01,746 INFO     [main.py:serve:356] Started server process [6258]
2019-12-09 16:47:01,748 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 16:47:01,748 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 16:47:01,748 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 16:47:05,465 INFO     [log.py:info:110] select version()
2019-12-09 16:47:05,465 INFO     [log.py:info:110] {}
2019-12-09 16:47:05,468 INFO     [log.py:info:110] select current_schema()
2019-12-09 16:47:05,468 INFO     [log.py:info:110] {}
2019-12-09 16:47:05,470 INFO     [log.py:info:110] SELECT CAST('test plain returns' AS VARCHAR(60)) AS anon_1
2019-12-09 16:47:05,470 INFO     [log.py:info:110] {}
2019-12-09 16:47:05,471 INFO     [log.py:info:110] SELECT CAST('test unicode returns' AS VARCHAR(60)) AS anon_1
2019-12-09 16:47:05,472 INFO     [log.py:info:110] {}
2019-12-09 16:47:05,472 INFO     [log.py:info:110] show standard_conforming_strings
2019-12-09 16:47:05,472 INFO     [log.py:info:110] {}
2019-12-09 16:47:05,476 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:47:05,477 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:47:05,477 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:47:05,808 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:47:09,038 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:47:09,039 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:47:09,039 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:47:09,338 INFO     [log.py:info:110] ROLLBACK
2019-12-09 16:47:55,542 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 829, in _checkout
    fairy._connection_record._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 825, in _checkout
    fairy._connection_record.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:48:02,808 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:48:09,378 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:48:36,987 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:48:41,776 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:48:49,490 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:48:56,351 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:49:02,035 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:49:17,951 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:49:29,364 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:49:36,638 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:49:42,041 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:50:02,447 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:50:50,719 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:51:15,873 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:51:33,612 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:52:38,509 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:52:40,974 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:53:07,624 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:53:21,779 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:53:49,442 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:53:54,781 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:53:59,708 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:54:07,219 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:55:38,934 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:57:40,645 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:58:11,537 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not connect to server: Connection refused
	Is the server running on host "localhost" (::1) and accepting
	TCP/IP connections on port 5432?
could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:58:19,369 ERROR    [httptools_impl.py:run_asgi:388] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/protocols/http/httptools_impl.py", line 385, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/applications.py", line 133, in __call__
    await self.error_middleware(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 177, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/errors.py", line 155, in __call__
    await self.app(scope, receive, _send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "src/main.py", line 37, in db_session_middleware
    response = await call_next(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/middleware/cors.py", line 140, in simple_response
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 73, in __call__
    raise exc from None
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/exceptions.py", line 62, in __call__
    await self.app(scope, receive, sender)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 592, in __call__
    await route(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 208, in __call__
    await self.app(scope, receive, send)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/fastapi/routing.py", line 111, in app
    raw_response = await run_in_threadpool(dependant.call, **values)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/starlette/concurrency.py", line 25, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/lenhutquang/_working/inventory/backend/src/api/endpoint/login.py", line 26, in login_access_token
    db, email=data.username, password=data.password
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 18, in authenticate
    user = get_by_email(db_session, email=email)
  File "/Users/lenhutquang/_working/inventory/backend/src/service/user.py", line 14, in get_by_email
    return db_session.query(User).filter(User.email == email).first()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3228, in first
    ret = list(self[0:1])
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3018, in __getitem__
    return list(res)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3330, in __iter__
    return self._execute_and_instances(context)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3352, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3367, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3345, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1124, in connection
    execution_options=execution_options,
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1130, in _connection_for_bind
    engine, execution_options
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 431, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2229, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2269, in _wrap_pool_connect
    e, dialect, self
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    return fn()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 363, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 760, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 497, in checkout
    rec._checkin_failed(err)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 494, in checkout
    dbapi_connection = rec.get_connection()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 593, in get_connection
    self.__connect()
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 639, in __connect
    connection = pool._invoke_creator(self)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/Users/lenhutquang/_development/python3/envdev/lib/python3.7/site-packages/psycopg2/__init__.py", line 126, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) FATAL:  the database system is starting up

(Background on this error at: http://sqlalche.me/e/e3q8)
2019-12-09 16:58:33,810 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 16:58:33,810 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 16:58:33,810 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 16:58:34,130 INFO     [log.py:info:110] ROLLBACK
2019-12-09 17:01:40,359 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 17:01:40,360 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 17:01:40,360 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 17:01:40,654 INFO     [log.py:info:110] ROLLBACK
2019-12-09 17:03:50,380 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 17:03:50,381 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 17:03:50,381 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 17:03:50,677 INFO     [log.py:info:110] ROLLBACK
2019-12-09 17:06:04,588 INFO     [log.py:info:110] BEGIN (implicit)
2019-12-09 17:06:04,588 INFO     [log.py:info:110] SELECT "user".id AS user_id, "user".name AS user_name, "user".email AS user_email, "user".hashed_password AS user_hashed_password, "user".is_active AS user_is_active, "user".is_superuser AS user_is_superuser 
FROM "user" 
WHERE "user".email = %(email_1)s 
 LIMIT %(param_1)s
2019-12-09 17:06:04,588 INFO     [log.py:info:110] {'email_1': 'admin@gmail.com', 'param_1': 1}
2019-12-09 17:06:04,894 INFO     [log.py:info:110] ROLLBACK
2019-12-09 17:30:04,124 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 17:30:04,228 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 17:30:04,229 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 17:30:04,229 INFO     [main.py:serve:369] Finished server process [6258]
2019-12-09 17:50:50,558 INFO     [main.py:serve:356] Started server process [6916]
2019-12-09 17:50:50,559 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 17:50:50,559 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 17:50:50,559 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 17:51:25,598 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 17:51:25,699 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 17:51:25,700 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 17:51:25,700 INFO     [main.py:serve:369] Finished server process [6916]
2019-12-09 17:51:27,147 INFO     [main.py:serve:356] Started server process [6932]
2019-12-09 17:51:27,149 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 17:51:27,149 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 17:51:27,150 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 17:52:08,448 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 17:52:08,553 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 17:52:08,553 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 17:52:08,553 INFO     [main.py:serve:369] Finished server process [6932]
2019-12-09 17:52:09,858 INFO     [main.py:serve:356] Started server process [6950]
2019-12-09 17:52:09,860 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 17:52:09,860 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 17:52:09,860 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 17:52:29,162 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 17:52:29,267 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 17:52:29,267 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 17:52:29,267 INFO     [main.py:serve:369] Finished server process [6950]
2019-12-09 17:52:30,875 INFO     [main.py:serve:356] Started server process [6956]
2019-12-09 17:52:30,876 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 17:52:30,876 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 17:52:30,877 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 17:53:12,161 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 17:53:12,266 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 17:53:12,266 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 17:53:12,267 INFO     [main.py:serve:369] Finished server process [6956]
2019-12-09 17:59:50,239 INFO     [main.py:serve:356] Started server process [7004]
2019-12-09 17:59:50,240 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 17:59:50,240 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 17:59:50,241 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 18:00:07,310 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 18:00:07,415 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 18:00:07,416 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 18:00:07,416 INFO     [main.py:serve:369] Finished server process [7004]
2019-12-09 18:03:14,972 INFO     [main.py:serve:356] Started server process [7046]
2019-12-09 18:03:14,974 INFO     [main.py:startup:435] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2019-12-09 18:03:14,974 INFO     [on.py:startup:22] Waiting for application startup.
2019-12-09 18:03:14,974 INFO     [on.py:startup:34] Application startup complete.
2019-12-09 18:03:38,424 INFO     [main.py:shutdown:477] Shutting down
2019-12-09 18:03:38,528 INFO     [on.py:shutdown:39] Waiting for application shutdown.
2019-12-09 18:03:38,528 INFO     [on.py:shutdown:42] Application shutdown complete.
2019-12-09 18:03:38,529 INFO     [main.py:serve:369] Finished server process [7046]
